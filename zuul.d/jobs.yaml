- nodeset:
    name: thinkpad-node
    nodes:
      - label: gcc-builder
        name: mynode
        # Notice: No 'vars' or 'host_vars' header. 
        # We put the ansible_ variables directly under the node's name/label.
        ansible_user: denis
        ansible_ssh_private_key_file: /var/ssh/id_rsa
        ansible_ssh_common_args: "-o StrictHostKeyChecking=no"

- nodeset:
    name: controller-node
    nodes:
      - label: ubuntu-jammy
        name: controller

- job:
    name: new-job
    parent: null
    nodeset: controller-node
    run: playbooks/test.yaml

- job:
    name: c-builder
    parent: null
    nodeset: thinkpad-node
    run: playbooks/compile.yaml
